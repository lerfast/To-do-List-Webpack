(()=>{"use strict";const e=document.getElementById("item-list");let t=[];function n(){e.innerHTML="",t.forEach(((d,a)=>{const i=document.createElement("li");i.textContent=d.description,i.classList.add("draggable"),d.completed&&i.classList.add("completed");const r=document.createElement("button");r.textContent="Remove",r.addEventListener("click",(()=>function(e){t.splice(e,1),n()}(a)));const o=document.createElement("input");o.type="checkbox",o.checked=d.completed,o.addEventListener("change",(()=>function(e){t[e].completed=!t[e].completed,n()}(a))),i.appendChild(r),i.appendChild(o),e.appendChild(i)}))}let d=null;function a(e){d=this,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",this.innerHTML),this.classList.add("dragging")}function i(e){return e.preventDefault&&e.preventDefault(),e.dataTransfer.dropEffect="move",!1}function r(){this.classList.add("dragover")}function o(){this.classList.remove("dragover")}function c(e){return e.stopPropagation&&e.stopPropagation(),d!==this&&(d.innerHTML=this.innerHTML,this.innerHTML=e.dataTransfer.getData("text/plain")),!1}function s(){this.classList.remove("dragover"),this.classList.remove("dragging"),n()}document.getElementById("new-item-input");const l=document.getElementById("add-item-button"),u=document.getElementById("remove-complete-button");l.addEventListener("click",(function(){const e=document.getElementById("new-item-input"),d=e.value.trim();if(""===d)return;const a={description:d,completed:!1};t.push(a),e.value="",n()})),u.addEventListener("click",(function(){t=t.filter((e=>!e.completed)),n()})),n(),document.querySelectorAll(".draggable").forEach((e=>{e.addEventListener("dragstart",a),e.addEventListener("dragover",i),e.addEventListener("dragenter",r),e.addEventListener("dragleave",o),e.addEventListener("drop",c),e.addEventListener("dragend",s),e.setAttribute("draggable","true")}))})();